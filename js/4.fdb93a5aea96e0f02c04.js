webpackJsonp([4],{Eksn:function(t,i,s){"use strict";var a=s("gyMJ"),e=s("2Uyi"),n={data:function(){return{showPopup:!1,categoryList:[]}},created:function(){this._reqCategory()},methods:{handleMenuClick:function(){this.showPopup=!0},handleMenuTabClick:function(t){this.showPopup=!1,this.$router.push("/ask/category/"+t)},_reqCategory:function(){var t=this;Object(a.d)().then(function(i){Object(e.c)(i,function(){t.categoryList=i.data})})}}},o={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"ask-menu"},[s("i",{staticClass:"iconfont icon-caidan",staticStyle:{color:"#E2B96F","font-size":"22px"},on:{click:t.handleMenuClick}}),t._v(" "),s("van-popup",{staticClass:"popup-box bg",model:{value:t.showPopup,callback:function(i){t.showPopup=i},expression:"showPopup"}},[s("div",{staticClass:"title"},[s("span",[t._v("选择问答分类")]),t._v(" "),s("i",{staticClass:"iconfont icon-guanbi",staticStyle:{color:"#fff","font-size":"20px"},on:{click:function(i){t.showPopup=!1}}})]),t._v(" "),s("ul",t._l(t.categoryList,function(i){return s("li",{key:i.cate_id},[s("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.handleMenuTabClick(i.cate_id)}}},[t._v(t._s(i.cate_name))])])}),0)])],1)},staticRenderFns:[]};var c=s("C7Lr")(n,o,!1,function(t){s("ih3f")},"data-v-bd7de1b2",null);i.a=c.exports},UAa6:function(t,i){},ih3f:function(t,i){},zlCH:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});s("Yj4y");var a=s("a8Zu"),e=s("hUrq"),n=s("Eksn"),o=s("gyMJ"),c=s("2Uyi"),l={data:function(){return{title:"",state:0,isLoading:!1,loading:!1,finished:!1,questionList:[],page:1,totalPage:1,cate_id:0}},components:{AppHeader:e.a,AskMenu:n.a},created:function(){this.cate_id=this.$route.params.id,this._reqQuesList()},mounted:function(){this._initLine()},watch:{state:function(t){this._initLine(),this.page=1,this.questionList=[],this._reqQuesList()},$route:function(){this.cate_id=this.$route.params.id,this.page=1,this.questionList=[],this._reqQuesList()}},methods:{handleGoBack:function(){this.$router.push("/ask")},_reqQuesList:function(){var t=this;if(this.page>this.totalPage)return this.finished=!0,this.loading=!1,Object(a.a)("没有更多数据了");Object(o.f)(this.cate_id,this.state,this.page).then(function(i){Object(c.c)(i,function(){t.title=i.data.cate_name,i.data.list&&i.data.list.length?(t.page>1?t.questionList=t.questionList.concat(i.data.list):t.questionList=i.data.list,t.totalPage=i.data.totalPage,t.isLoading&&(t.isLoading=!1,Object(a.a)("刷新成功")),t.loading&&(t.loading=!1)):Object(a.a)("没有数据")})})},_initLine:function(){var t=this.$refs.line,i=document.documentElement.clientWidth;0===this.state&&(t.style.left=i/4-15+"px"),1===this.state&&(t.style.left=i/4*3-15+"px")},_onRefresh:function(){this.isLoading=!0,this.page=1,this._reqQuesList()},_onLoad:function(){this.page++,this.loading=!0,this._reqQuesList()}}},r={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"category"},[s("app-header",{attrs:{title:t.title,path:"path"},on:{back:t.handleGoBack}},[s("ask-menu",{attrs:{slot:"right"},slot:"right"})],1),t._v(" "),s("div",{staticClass:"tabs"},[s("span",{class:{active:0===t.state},on:{click:function(i){t.state=0}}},[t._v("待解决问题")]),t._v(" "),s("span",{class:{active:1===t.state},on:{click:function(i){t.state=1}}},[t._v("已解决问题")]),t._v(" "),s("div",{ref:"line",staticClass:"line"})]),t._v(" "),s("div",{staticClass:"list"},[s("van-pull-refresh",{on:{refresh:t._onRefresh},model:{value:t.isLoading,callback:function(i){t.isLoading=i},expression:"isLoading"}},[s("van-list",{attrs:{finished:t.finished,"immediate-check":!1,offset:10},on:{load:t._onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[s("div",{staticClass:"list-box"},[s("ul",t._l(t.questionList,function(i){return s("li",{key:i.question_id},[s("div",{staticClass:"title"},[s("div",{staticClass:"icon"},[s("span",{directives:[{name:"show",rawName:"v-show",value:2===i.extra_state,expression:"item.extra_state === 2"}]},[t._v("顶")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:1===i.extra_state,expression:"item.extra_state === 1"}]},[t._v("精")])]),t._v(" "),s("router-link",{attrs:{to:"/ask/details?id="+i.question_id}},[t._v(t._s(i.title))])],1),t._v(" "),s("div",{staticClass:"data"},[s("div",{staticClass:"left"},[s("img",{attrs:{src:i.from.avatar,alt:"头像"}}),t._v(" "),s("span",[t._v(t._s(i.from.nickname))]),t._v(" "),s("span",[t._v("|")]),t._v(" "),s("span",[t._v(t._s(i.create_time))])]),t._v(" "),s("div",{staticClass:"right"},[s("i",{staticClass:"iconfont icon-chakan"}),t._v(" "),s("span",[t._v(t._s(i.watch_num))]),t._v(" "),s("i",{staticClass:"reply iconfont icon-chakantiezihuifu"}),t._v(" "),s("span",[t._v(t._s(i.answer_num))])])])])}),0)])])],1)],1)],1)},staticRenderFns:[]};var u=s("C7Lr")(l,r,!1,function(t){s("UAa6")},null,null);i.default=u.exports}});
//# sourceMappingURL=4.fdb93a5aea96e0f02c04.js.map