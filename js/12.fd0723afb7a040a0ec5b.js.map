{"version":3,"sources":["webpack:///src/components/publish/publish.vue","webpack:///./src/components/publish/publish.vue?f8c9","webpack:///./src/components/publish/publish.vue"],"names":["publish","data","category","name","id","title","desc","show","actions","components","HeaderMain","header","created","this","_reqCategoryList","methods","handleSubmitClick","_this","length","Object","toast","api","then","res","common","$router","push","question_id","handleSelect","item","_this2","forEach","val","cate_name","cate_id","publish_publish","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","border","label","clearable","readonly","placeholder","on","click","$event","model","value","callback","$$v","$set","expression","type","rows","autosize","select","href","preventDefault","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.fd0723afb7a040a0ec5b.js","sourcesContent":["<template>\r\n  <div class=\"publish\">\r\n    <header-main title='发表问题'></header-main>\r\n    <br>\r\n    <van-cell-group\r\n      :border='false'>\r\n      <van-field\r\n        label=\"分类\"\r\n        :border='false'\r\n        clearable\r\n        v-model=\"category.name\"\r\n        readonly\r\n        placeholder=\"请选择\"\r\n        @click=\"show = true\"\r\n      />\r\n      <div class=\"border\"></div>\r\n      <van-field\r\n        label=\"标题\"\r\n        clearable\r\n        v-model=\"title\"\r\n        :border='false'\r\n        placeholder=\"请输入问题的标题\"\r\n      />\r\n      <div class=\"border\"></div>\r\n      <van-field\r\n        label=\"描述\"\r\n        type=\"textarea\"\r\n        :border='false'\r\n        clearable\r\n        v-model=\"desc\"\r\n        placeholder=\"请输入问题的描述\"\r\n        rows=\"4\"\r\n        autosize\r\n      />\r\n    </van-cell-group>\r\n    <van-actionsheet\r\n      v-model=\"show\"\r\n      :actions=\"actions\"\r\n      @select='handleSelect'\r\n    />\r\n    <div class=\"border\"></div>\r\n    <a href=\"javascript;;\" class=\"submit-btn\" @click.prevent='handleSubmitClick'>确认发表</a>\r\n  </div>\r\n</template>\r\n<script>\r\nimport HeaderMain from \"@/base/header/header\";\r\nimport { Toast } from \"vant\";\r\nimport { handleResponse } from \"@/assets/js/common\";\r\nimport { GET_ASK_CATEGORY, POST_ASK_PUBLISH } from \"@/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      category: {\r\n        name: \"\",\r\n        id: 0\r\n      },\r\n      title: \"\",\r\n      desc: \"\",\r\n      show: false,\r\n      actions: []\r\n    };\r\n  },\r\n  components: {\r\n    HeaderMain\r\n  },\r\n  created() {\r\n    this._reqCategoryList();\r\n  },\r\n  methods: {\r\n    handleSubmitClick() {\r\n      if (!this.category.name) return Toast(\"请选择问题分类\");\r\n      if (!this.title) return Toast(\"请输入问题标题\");\r\n      if (this.title.length < 4 || this.title.length > 30) {\r\n        return Toast(\"问题标题长度在4-30个字符之间\");\r\n      }\r\n      if (!this.desc) return Toast(\"请输入问题描述\");\r\n\r\n      POST_ASK_PUBLISH(this.category.id, this.title, this.desc).then(res => {\r\n        handleResponse(res, () => {\r\n          this.$router.push(`/ask/details?id=${res.data.question_id}`)\r\n        });\r\n      });\r\n    },\r\n    handleSelect(item) {\r\n      this.category = item;\r\n      this.show = false;\r\n    },\r\n    _reqCategoryList() {\r\n      GET_ASK_CATEGORY().then(res => {\r\n        handleResponse(res, () => {\r\n          res.data.forEach(item => {\r\n            let val = {\r\n              name: item.cate_name,\r\n              id: item.cate_id\r\n            };\r\n            this.actions.push(val);\r\n          });\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.van-cell-group{\r\n  background-color: transparent;\r\n}\r\n.van-cell{\r\n  background-color: transparent;\r\n}\r\n.van-field .van-cell__title {\r\n  color: rgba(255,255,255,.8);\r\n}\r\n.van-field__control{\r\n  color: rgba(255,255,255,.8);\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/publish/publish.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"publish\"},[_c('header-main',{attrs:{\"title\":\"发表问题\"}}),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('van-cell-group',{attrs:{\"border\":false}},[_c('van-field',{attrs:{\"label\":\"分类\",\"border\":false,\"clearable\":\"\",\"readonly\":\"\",\"placeholder\":\"请选择\"},on:{\"click\":function($event){_vm.show = true}},model:{value:(_vm.category.name),callback:function ($$v) {_vm.$set(_vm.category, \"name\", $$v)},expression:\"category.name\"}}),_vm._v(\" \"),_c('div',{staticClass:\"border\"}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"标题\",\"clearable\":\"\",\"border\":false,\"placeholder\":\"请输入问题的标题\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_vm._v(\" \"),_c('div',{staticClass:\"border\"}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"描述\",\"type\":\"textarea\",\"border\":false,\"clearable\":\"\",\"placeholder\":\"请输入问题的描述\",\"rows\":\"4\",\"autosize\":\"\"},model:{value:(_vm.desc),callback:function ($$v) {_vm.desc=$$v},expression:\"desc\"}})],1),_vm._v(\" \"),_c('van-actionsheet',{attrs:{\"actions\":_vm.actions},on:{\"select\":_vm.handleSelect},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}}),_vm._v(\" \"),_c('div',{staticClass:\"border\"}),_vm._v(\" \"),_c('a',{staticClass:\"submit-btn\",attrs:{\"href\":\"javascript;;\"},on:{\"click\":function($event){$event.preventDefault();return _vm.handleSubmitClick($event)}}},[_vm._v(\"确认发表\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6d1afbb4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/publish/publish.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d1afbb4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./publish.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./publish.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./publish.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d1afbb4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./publish.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/publish/publish.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}