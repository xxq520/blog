webpackJsonp([12],{HYBK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("Yj4y");var n=a("a8Zu"),i=a("hUrq"),c=a("2Uyi"),s=a("gyMJ"),r={data:function(){return{category:{name:"",id:0},title:"",desc:"",show:!1,actions:[]}},components:{HeaderMain:i.a},created:function(){this._reqCategoryList()},methods:{handleSubmitClick:function(){var e=this;return this.category.name?this.title?this.title.length<4||this.title.length>30?Object(n.a)("问题标题长度在4-30个字符之间"):this.desc?void Object(s.s)(this.category.id,this.title,this.desc).then(function(t){Object(c.c)(t,function(){e.$router.push("/ask/details?id="+t.data.question_id)})}):Object(n.a)("请输入问题描述"):Object(n.a)("请输入问题标题"):Object(n.a)("请选择问题分类")},handleSelect:function(e){this.category=e,this.show=!1},_reqCategoryList:function(){var e=this;Object(s.d)().then(function(t){Object(c.c)(t,function(){t.data.forEach(function(t){var a={name:t.cate_name,id:t.cate_id};e.actions.push(a)})})})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publish"},[a("header-main",{attrs:{title:"发表问题"}}),e._v(" "),a("br"),e._v(" "),a("van-cell-group",{attrs:{border:!1}},[a("van-field",{attrs:{label:"分类",border:!1,clearable:"",readonly:"",placeholder:"请选择"},on:{click:function(t){e.show=!0}},model:{value:e.category.name,callback:function(t){e.$set(e.category,"name",t)},expression:"category.name"}}),e._v(" "),a("div",{staticClass:"border"}),e._v(" "),a("van-field",{attrs:{label:"标题",clearable:"",border:!1,placeholder:"请输入问题的标题"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),a("div",{staticClass:"border"}),e._v(" "),a("van-field",{attrs:{label:"描述",type:"textarea",border:!1,clearable:"",placeholder:"请输入问题的描述",rows:"4",autosize:""},model:{value:e.desc,callback:function(t){e.desc=t},expression:"desc"}})],1),e._v(" "),a("van-actionsheet",{attrs:{actions:e.actions},on:{select:e.handleSelect},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),e._v(" "),a("div",{staticClass:"border"}),e._v(" "),a("a",{staticClass:"submit-btn",attrs:{href:"javascript;;"},on:{click:function(t){return t.preventDefault(),e.handleSubmitClick(t)}}},[e._v("确认发表")])],1)},staticRenderFns:[]};var o=a("C7Lr")(r,l,!1,function(e){a("yLWE")},null,null);t.default=o.exports},yLWE:function(e,t){}});
//# sourceMappingURL=12.fd0723afb7a040a0ec5b.js.map