{"version":3,"sources":["webpack:///src/components/forget/forget.vue","webpack:///./src/components/forget/forget.vue?5340","webpack:///./src/components/forget/forget.vue"],"names":["forget","data","time","yanz","Verification","phone","password","zq","newPhone","components","HeaderMain","header","methods","getVerification","_this","this","Object","toast","test","that","timer","setInterval","clearInterval","api","then","res","status","code","handleSubmitClick","_this2","length","common","dialog","alert","title","message","localStorage","setItem","$router","push","forget_forget","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","border","label","clearable","placeholder","model","value","callback","$$v","expression","staticStyle","display","justify-content","color","background-color","_s","on","click","type","href","$event","preventDefault","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.3b562819b220a4235056.js","sourcesContent":["<template>\n  <div class=\"forget\">\n    <header-main title='修改密码'></header-main>\n    <br>\n    <van-cell-group\n      :border='false'>\n      <van-field\n        label=\"手机号\"\n        v-model=\"phone\"\n        :border='false'\n        clearable\n        placeholder=\"请输入您的手机号\"\n      />\n      <div style=\"display: flex;justify-content: space-between\">\n        <van-field\n          label=\"验证码\"\n          v-model=\"Verification\"\n          :border='false'\n          clearable\n          placeholder=\"请输入您的验证码\"\n        />\n        <button v-if=\"yanz\"   style=\"color:#63b9ff;border: none;background-color: transparent;display: inline-block;\">{{time}}s</button>\n        <button v-else=\"yanz\"  @click=\"getVerification\"  style=\"color:#63b9ff;border: none;background-color: transparent;display: inline-block;\">发送验证</button>\n      </div>\n      <div class=\"border\"></div>\n      <van-field\n        label=\"新密码\"\n        type='password'\n        clearable\n        v-model=\"password\"\n        placeholder=\"请输入要更改的密码\"\n      />\n    </van-cell-group>\n    <div class=\"border\"></div>\n    <a href=\"javascript;;\" class=\"submit-btn\" @click.prevent='handleSubmitClick'>确认修改</a>\n  </div>\n</template>\n<script>\nimport HeaderMain from \"@/base/header/header\";\nimport { Toast, Dialog } from \"vant\";\nimport { POST_MODIFY_PASSWORD,POST_YANZ} from \"@/api\";\nimport { handleResponse } from \"@/assets/js/common\";\n\nexport default {\n  data() {\n    return {\n      time:60,\n      yanz:false,\n      Verification:\"\",\n      phone: \"\",\n      password: \"\",\n      zq:'',\n      newPhone:''\n    };\n  },\n  components: {\n    HeaderMain\n  },\n  methods: {\n    getVerification(){\n      if (!this.phone) {\n        return Toast(\"请输入手机号码\");\n      }\n      if (!/^1[0-9]{10}$/.test(this.phone)) {\n        return Toast(\"请输入正确的手机号码\");\n      }\n      var that=this;\n      var timer=setInterval(()=>{\n        this.time=that.time-1;\n        if(that.time<=1){\n          this.time=60;\n          clearInterval(timer);that.yanz=false;\n        }\n      },1000);\n      this.yanz=true;\n      POST_YANZ(this.phone).then(res=>{\n        if(res.status==0){\n          this.zq=res.code;\n          this.newPhone=this.phone;\n          return Toast('验证码发送成功！')\n        }else{\n          return Toast('发送失败')\n        }\n      });\n    },\n    handleSubmitClick() {\n      //判断验证码是否正确\n      if(!/[0-9]{6,6}$/.test(this.Verification)){\n        return Toast('请输入验证码')\n      }\n      if (!this.phone) {\n        return Toast(\"请输入手机号码\");\n      }\n      if (!/^1[0-9]{10}$/.test(this.phone)) {\n        return Toast(\"请输入正确的手机号码\");\n      }\n\n      if (!this.password) {\n        return Toast(\"请输入密码\");\n      }\n      if (this.password.length < 6 || this.password.length > 12) {\n        return Toast(\"请输入6-12位密码\");\n      }\n      if(this.Verification!=this.zq){\n        return Toast(\"验证码不正确\")\n      }\n      if(this.newPhone!=this.phone){\n        return Toast(\"手机号或验证码不正确\")\n      }\n      POST_MODIFY_PASSWORD(this.phone, this.password).then(res => {\n        handleResponse(res, () => {\n          Dialog.alert({\n            title: '温馨提示',\n            message: '您的密码已修改，需要重新登录！'\n          }).then(() => {\n            localStorage.setItem('token', '')\n            this.$router.push('/login')\n          });\n        });\n      });\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.forget {\n  .van-cell-group{\n    background-color: transparent;\n    .van-cell{\n      width: 77%;\n      background-color: transparent;\n      color: rgba(255,255,255,.6);\n    }\n  }\n}\n.van-cell__value{\n  color: white !important;\n}\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/forget/forget.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"forget\"},[_c('header-main',{attrs:{\"title\":\"修改密码\"}}),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('van-cell-group',{attrs:{\"border\":false}},[_c('van-field',{attrs:{\"label\":\"手机号\",\"border\":false,\"clearable\":\"\",\"placeholder\":\"请输入您的手机号\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('van-field',{attrs:{\"label\":\"验证码\",\"border\":false,\"clearable\":\"\",\"placeholder\":\"请输入您的验证码\"},model:{value:(_vm.Verification),callback:function ($$v) {_vm.Verification=$$v},expression:\"Verification\"}}),_vm._v(\" \"),(_vm.yanz)?_c('button',{staticStyle:{\"color\":\"#63b9ff\",\"border\":\"none\",\"background-color\":\"transparent\",\"display\":\"inline-block\"}},[_vm._v(_vm._s(_vm.time)+\"s\")]):_c('button',{staticStyle:{\"color\":\"#63b9ff\",\"border\":\"none\",\"background-color\":\"transparent\",\"display\":\"inline-block\"},on:{\"click\":_vm.getVerification}},[_vm._v(\"发送验证\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"border\"}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"新密码\",\"type\":\"password\",\"clearable\":\"\",\"placeholder\":\"请输入要更改的密码\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"border\"}),_vm._v(\" \"),_c('a',{staticClass:\"submit-btn\",attrs:{\"href\":\"javascript;;\"},on:{\"click\":function($event){$event.preventDefault();return _vm.handleSubmitClick($event)}}},[_vm._v(\"确认修改\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-1237de13\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/forget/forget.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1237de13\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./forget.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./forget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./forget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1237de13\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./forget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1237de13\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/forget/forget.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}