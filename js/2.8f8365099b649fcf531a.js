webpackJsonp([2],{Eksn:function(t,n,i){"use strict";var e=i("gyMJ"),a=i("2Uyi"),s={data:function(){return{showPopup:!1,categoryList:[]}},created:function(){this._reqCategory()},methods:{handleMenuClick:function(){this.showPopup=!0},handleMenuTabClick:function(t){this.showPopup=!1,this.$router.push("/ask/category/"+t)},_reqCategory:function(){var t=this;Object(e.d)().then(function(n){Object(a.c)(n,function(){t.categoryList=n.data})})}}},o={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"ask-menu"},[i("i",{staticClass:"iconfont icon-caidan",staticStyle:{color:"#E2B96F","font-size":"22px"},on:{click:t.handleMenuClick}}),t._v(" "),i("van-popup",{staticClass:"popup-box bg",model:{value:t.showPopup,callback:function(n){t.showPopup=n},expression:"showPopup"}},[i("div",{staticClass:"title"},[i("span",[t._v("选择问答分类")]),t._v(" "),i("i",{staticClass:"iconfont icon-guanbi",staticStyle:{color:"#fff","font-size":"20px"},on:{click:function(n){t.showPopup=!1}}})]),t._v(" "),i("ul",t._l(t.categoryList,function(n){return i("li",{key:n.cate_id},[i("a",{attrs:{href:"javascript:;"},on:{click:function(i){return t.handleMenuTabClick(n.cate_id)}}},[t._v(t._s(n.cate_name))])])}),0)])],1)},staticRenderFns:[]};var c=i("C7Lr")(s,o,!1,function(t){i("ih3f")},"data-v-bd7de1b2",null);n.a=c.exports},H96s:function(t,n,i){"use strict";i.d(n,"b",function(){return e}),i.d(n,"a",function(){return a});var e=[{title:"个人名片",content:"修改",to:"/my/card",icon:{class:"icon-mingpian2",color:"#4AC49D"}},{title:"登录密码",content:"修改",to:"/forget",icon:{class:"icon-suo1",color:"#E2B96F"}},{title:"我的问题",to:"/my/ques",icon:{class:"icon-wenti",color:"#4AC49D"}},{title:"我的回答",to:"/my/answer",icon:{class:"icon-wenjuandaan",color:"#E2B96F"}},{title:"我的评论",to:"/my/reply",icon:{class:"icon-pinglun",color:"#186EFE"}}],a=[{name:"全部"},{name:"精华问题",extra_state:1},{name:"置顶问题",extra_state:2},{name:"已解决问题",state:1},{name:"待解决问题",state:0}]},"Jr/p":function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});i("VOH9");var e=i("9lIC"),a=i("lGbR"),s=i("8kzQ"),o=i("Eksn"),c=i("H96s"),r=i("gyMJ"),l=i("2Uyi"),u=i("/QXl"),d=12,h={data:function(){return{showPopup:!1,categoryList:[],questionList:[],askNavData:c.a,currIndex:0,page:1,loading:!1,finished:!1,isLoading:!1}},created:function(){this.token=Object(l.b)("token","string"),this._reqQuestion()},mounted:function(){this._setWidth(),this._initSlide(),this._initLoadMore()},components:{AppFooter:a.a,TabHeader:s.a,AskMenu:o.a},computed:{rem:function(){var t=document.documentElement.clientWidth;return t<414?14:t<768?16:26}},methods:{handleQuesClick:function(t){this.$router.push("/ask/details?id="+t)},handlePublishClick:function(){var t=this;this.token?this.$router.push("/ask/publish"):e.a.confirm({title:"温馨提示",message:"登录后才能发表问题哦，老铁。",confirmButtonText:"去登陆"}).then(function(){t.$router.push("/login")}).catch(function(){console.log("已关闭")})},handleNavClick:function(t,n){this.currIndex=n,this.page=1,this._reqQuestion()},_reqQuestion:function(){var t=this;Object(r.g)(this.page,this.currIndex).then(function(n){Object(l.c)(n,function(){n.data.length?(n.data.length<d&&(t.finished=!0),t.questionList=n.data):t.questionList=[]})})},_setWidth:function(){var t=this.$refs.navContent;this.children=t.children;for(var n=0,i=0;i<this.children.length;i++){n+=this.children[i].clientWidth}t.style.width=n+"px"},_initSlide:function(){this.slide=new u.a(this.$refs.navWrap,{scrollX:!0,scrollY:!1,click:!0})},_onLoad:function(){var t=this;this.page++,this.loading=!0,Object(r.g)(this.page,this.currIndex).then(function(n){Object(l.c)(n,function(){t.questionList=t.questionList.concat(n.data),t.$toast("加载成功"),t.loading=!1,n.data.length<d&&(t.finished=!0)})})},_onRefresh:function(){var t=this;this.isLoading=!0,this.page=1,Object(r.g)(this.page,this.currIndex).then(function(n){Object(l.c)(n,function(){n.data.length?(n.data.length>=d?t.finished=!1:t.finished=!0,t.questionList=n.data,t.$toast("刷新成功"),t.isLoading=!1):t.questionList=[]})})},_initLoadMore:function(){var t=document.documentElement.clientHeight;this.$refs.loadMore.style.height=t-43-50-4.4*this.rem-50-12+"px"}}},f={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"root-wrap"},[i("TabHeader",{attrs:{title:"问答"}},[t._t("default",[i("ask-menu")])],2),t._v(" "),i("div",{staticClass:"ask"},[i("div",{staticClass:"ask-btn"},[i("a",{attrs:{href:"javascript:;"},on:{click:function(n){return n.preventDefault(),t.handlePublishClick(n)}}},[t._v("发表新问题")])]),t._v(" "),i("div",{ref:"navWrap",staticClass:"nav"},[i("ul",{ref:"navContent"},t._l(t.askNavData,function(n,e){return i("li",{key:e},[i("a",{class:{active:e===t.currIndex},attrs:{href:"javascript:;"},on:{click:function(i){return i.preventDefault(),t.handleNavClick(n,e)}}},[t._v(t._s(n.name))])])}),0)]),t._v(" "),i("div",{staticClass:"border"}),t._v(" "),i("br"),t._v(" "),i("div",{ref:"loadMore",staticClass:"loadmore-box"},[i("van-pull-refresh",{on:{refresh:t._onRefresh},model:{value:t.isLoading,callback:function(n){t.isLoading=n},expression:"isLoading"}},[i("van-list",{attrs:{finished:t.finished,"immediate-check":!1,offset:10},on:{load:t._onLoad},model:{value:t.loading,callback:function(n){t.loading=n},expression:"loading"}},[i("div",{staticClass:"list-box"},[i("ul",t._l(t.questionList,function(n){return i("li",{key:n.question_id},[i("div",{staticClass:"title"},[i("div",{staticClass:"icon"},[i("span",{directives:[{name:"show",rawName:"v-show",value:2===n.extra_state,expression:"item.extra_state === 2"}]},[t._v("顶")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:1===n.extra_state,expression:"item.extra_state === 1"}]},[t._v("精")])]),t._v(" "),i("a",{attrs:{href:"javascript:;"},on:{click:function(i){return i.preventDefault(),t.handleQuesClick(n.question_id)}}},[t._v(t._s(n.title))])]),t._v(" "),i("div",{staticClass:"data"},[i("div",{staticClass:"left"},[i("img",{attrs:{src:n.from.avatar,alt:"头像"}}),t._v(" "),i("span",[t._v(t._s(n.from.nickname))]),t._v(" "),i("span",[t._v("|")]),t._v(" "),i("span",[t._v(t._s(n.create_time))])]),t._v(" "),i("div",{staticClass:"right"},[i("i",{staticClass:"iconfont icon-chakan"}),t._v(" "),i("span",[t._v(t._s(n.watch_num))]),t._v(" "),i("i",{staticClass:"reply iconfont icon-chakantiezihuifu"}),t._v(" "),i("span",[t._v(t._s(n.answer_num))])])])])}),0)])])],1)],1)]),t._v(" "),i("app-footer",{attrs:{current:1}})],1)},staticRenderFns:[]};var v=i("C7Lr")(h,f,!1,function(t){i("kJx5"),i("pMnO")},"data-v-10659440",null);n.default=v.exports},ih3f:function(t,n){},kJx5:function(t,n){},pMnO:function(t,n){}});
//# sourceMappingURL=2.8f8365099b649fcf531a.js.map