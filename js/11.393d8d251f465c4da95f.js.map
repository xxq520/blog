{"version":3,"sources":["webpack:///src/components/search/search.vue","webpack:///./src/components/search/search.vue?e280","webpack:///./src/components/search/search.vue"],"names":["search","data","title","showPopup","questionList","hotList","label","components","HeaderMain","header","AppFooter","footer","Scroll","scroll_scroll","TabHeader","tabHeader","methods","handlePopupBack","this","handleSearch","Object","toast","_reqSearch","handleQuesClick","id","$router","push","handleHotLabelClick","_this","api","then","res","common","search_search","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","border","clearable","placeholder","model","value","callback","$$v","expression","href","on","click","$event","preventDefault","_l","item","index","key","_s","position","overlay","path","back","question_id","directives","name","rawName","extra_state","create_time","watch_num","answer_num","staticStyle","text-align","margin-top","current","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.393d8d251f465c4da95f.js","sourcesContent":["<template>\r\n  <div class=\"root-wrap\">\r\n    <!-- header -->\r\n    <TabHeader title=\"搜索\"></TabHeader>\r\n    <div class=\"search\">\r\n      <!-- 搜索框 -->\r\n      <div class=\"search-inp\">\r\n        <i class=\"iconfont icon-icon-1\"></i>\r\n        <van-field :border='false' v-model=\"title\" clearable class=\"inp\" placeholder=\"输入要搜索的问答\" />\r\n        <!-- <i class=\"iconfont icon-guanbi\"></i> -->\r\n        <a href=\"javascript:;\" @click.prevent='handleSearch'>搜索</a>\r\n      </div>\r\n      <!-- 热门搜索 -->\r\n      <div class=\"hot-box\">\r\n        <div class=\"title\">热门搜索</div>\r\n        <ul class=\"list\">\r\n          <li @click=\"handleHotLabelClick(item)\" v-for=\"(item, index) in hotList\" :key=\"index\">{{ item }}</li>\r\n        </ul>\r\n      </div>\r\n      <van-popup class=\"popup\" v-model=\"showPopup\" position=\"right\" :overlay=\"false\">\r\n        <header-main path='path' @back='handlePopupBack' title=\"搜索结果\"></header-main>\r\n        <br>\r\n        <div class=\"title\">关键字：{{ title || label }}</div>\r\n        <div class=\"border\"></div>\r\n        <div class=\"list-box\" v-if=\"questionList.length\">\r\n          <ul>\r\n            <li v-for=\"item in questionList\" :key=\"item.question_id\">\r\n              <!-- 标题部分 -->\r\n              <div class=\"title\">\r\n                <div class=\"icon\">\r\n                  <span v-show=\"item.extra_state === 2\">顶</span>\r\n                  <span v-show=\"item.extra_state === 1\">精</span>\r\n                </div>\r\n                <a @click.prevent=\"handleQuesClick(item.question_id)\" href=\"javascript:;\">{{ item.title }}</a>\r\n              </div>\r\n              <!-- 数据部分 -->\r\n              <div class=\"data\">\r\n                <div class=\"left\">\r\n                  <span>{{ item.create_time }}</span>\r\n                </div>\r\n                <div class=\"right\">\r\n                  <i class=\"iconfont icon-chakan\"></i>\r\n                  <span>{{ item.watch_num }}</span>\r\n                  <i class=\"reply iconfont icon-chakantiezihuifu\"></i>\r\n                  <span>{{ item.answer_num }}</span>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div v-else style=\"text-align:center;margin-top:100px;\">搜索不到数据</div>\r\n      </van-popup>\r\n    </div>\r\n    <!-- footer -->\r\n    <app-footer :current=2></app-footer>\r\n  </div>\r\n</template>\r\n<script>\r\nimport HeaderMain from \"@/base/header/header\";\r\nimport AppFooter from \"@/base/footer/footer\";\r\nimport TabHeader from \"@/base/tabHeader/tabHeader\";\r\nimport Scroll from \"@/base/scroll/scroll\";\r\nimport { Toast } from 'vant';\r\nimport { GET_SEARCH } from '@/api'\r\nimport { handleResponse } from '@/assets/js/common'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: \"\",\r\n      showPopup: false,\r\n      questionList: [],\r\n      hotList: ['前端', '后端', '人工智能怎么样', '前框框架', 'vue', 'AI', 'Java', 'PHP是世界上最好的语言'],\r\n      label: ''\r\n    };\r\n  },\r\n  components: {\r\n    HeaderMain,\r\n    AppFooter,\r\n    Scroll,\r\n    TabHeader\r\n  },\r\n  methods: {\r\n    handlePopupBack() {\r\n      this.title = this.label = ''\r\n      this.showPopup = false;\r\n    },\r\n    handleSearch() {\r\n      if (!this.title) {\r\n        return Toast('请输入要搜索的关键词')\r\n      }\r\n      this._reqSearch(this.title)\r\n      this.showPopup = true;\r\n    },\r\n    handleQuesClick (id) {\r\n      this.$router.push(`/ask/details?id=${id}`)\r\n    },\r\n    handleHotLabelClick(title) {\r\n      this._reqSearch(title)\r\n      this.label = title\r\n      this.showPopup = true;\r\n    },\r\n    _reqSearch (title) {\r\n      GET_SEARCH(title).then(res => {\r\n        handleResponse(res, () => {\r\n          this.questionList = res.data\r\n        })\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.search {\r\n  .search-inp {\r\n    display: flex;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    width: 90%;\r\n    margin: 1rem auto 2rem;\r\n    height: 40px;\r\n    padding: 0 0.5rem;\r\n    background: #333;\r\n    border-radius: 6px;\r\n    .inp {\r\n      flex: 1;\r\n      background: transparent;\r\n      border: none;\r\n      outline: none;\r\n      padding-left: 1rem;\r\n      color: rgba(255, 255, 255, 0.6);\r\n    }\r\n    i:first-child {\r\n      font-size: 18px;\r\n    }\r\n  }\r\n  .hot-box {\r\n    margin: 0 1rem 1rem;\r\n    .title {\r\n      line-height: 2.6rem;\r\n    }\r\n    .list {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      li {\r\n        padding: 5px 10px;\r\n        margin: 0 20px 10px 0;\r\n        border-radius: 6px;\r\n        background: #333;\r\n        font-size: 14px;\r\n        color: hsla(0, 0%, 100%, 0.3);\r\n      }\r\n    }\r\n  }\r\n  .popup {\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #20232a;\r\n    .title {\r\n      height: 40px;\r\n      line-height: 40px;\r\n      padding: 0 1rem;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n    }\r\n    .list-box {\r\n      ul {\r\n        li {\r\n          padding: 1rem;\r\n          border-bottom: 1px solid rgba(255, 255, 255, 0.2);\r\n          .title {\r\n            display: flex;\r\n            align-items: center;\r\n            margin-bottom: 1rem;\r\n            height: 20px;\r\n            .icon {\r\n              margin-right: 0.8rem;\r\n              flex-shrink: 0;\r\n              span {\r\n                font-size: 0.8rem;\r\n                padding: 1px 2px;\r\n              }\r\n              span:first-child {\r\n                color: #ff8d64;\r\n                border: 1px solid #ff8d64;\r\n              }\r\n              span:last-child {\r\n                color: #4ac49d;\r\n                border: 1px solid #4ac49d;\r\n              }\r\n            }\r\n            a {\r\n              display: block;\r\n              white-space: nowrap;\r\n              width: 100%;\r\n              height: 20px;\r\n              line-height: 20px;\r\n              overflow: hidden;\r\n              text-overflow: ellipsis;\r\n            }\r\n          }\r\n          .data {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            font-size: 12px;\r\n            color: rgba(255, 255, 255, 0.5);\r\n            .left {\r\n              display: flex;\r\n              align-items: center;\r\n              img {\r\n                width: 22px;\r\n                height: 22px;\r\n                border-radius: 100%;\r\n              }\r\n              span {\r\n                margin-left: 6px;\r\n              }\r\n            }\r\n            .right {\r\n              display: flex;\r\n              align-items: center;\r\n              span,\r\n              i {\r\n                margin-left: 6px;\r\n              }\r\n              .reply {\r\n                position: relative;\r\n                top: -1px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/search/search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"root-wrap\"},[_c('TabHeader',{attrs:{\"title\":\"搜索\"}}),_vm._v(\" \"),_c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search-inp\"},[_c('i',{staticClass:\"iconfont icon-icon-1\"}),_vm._v(\" \"),_c('van-field',{staticClass:\"inp\",attrs:{\"border\":false,\"clearable\":\"\",\"placeholder\":\"输入要搜索的问答\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){$event.preventDefault();return _vm.handleSearch($event)}}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"hot-box\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_c('ul',{staticClass:\"list\"},_vm._l((_vm.hotList),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.handleHotLabelClick(item)}}},[_vm._v(_vm._s(item))])}),0)]),_vm._v(\" \"),_c('van-popup',{staticClass:\"popup\",attrs:{\"position\":\"right\",\"overlay\":false},model:{value:(_vm.showPopup),callback:function ($$v) {_vm.showPopup=$$v},expression:\"showPopup\"}},[_c('header-main',{attrs:{\"path\":\"path\",\"title\":\"搜索结果\"},on:{\"back\":_vm.handlePopupBack}}),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"关键字：\"+_vm._s(_vm.title || _vm.label))]),_vm._v(\" \"),_c('div',{staticClass:\"border\"}),_vm._v(\" \"),(_vm.questionList.length)?_c('div',{staticClass:\"list-box\"},[_c('ul',_vm._l((_vm.questionList),function(item){return _c('li',{key:item.question_id},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"icon\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.extra_state === 2),expression:\"item.extra_state === 2\"}]},[_vm._v(\"顶\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.extra_state === 1),expression:\"item.extra_state === 1\"}]},[_vm._v(\"精\")])]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){$event.preventDefault();return _vm.handleQuesClick(item.question_id)}}},[_vm._v(_vm._s(item.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"data\"},[_c('div',{staticClass:\"left\"},[_c('span',[_vm._v(_vm._s(item.create_time))])]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('i',{staticClass:\"iconfont icon-chakan\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.watch_num))]),_vm._v(\" \"),_c('i',{staticClass:\"reply iconfont icon-chakantiezihuifu\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.answer_num))])])])])}),0)]):_c('div',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"100px\"}},[_vm._v(\"搜索不到数据\")])],1)],1),_vm._v(\" \"),_c('app-footer',{attrs:{\"current\":2}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6fdb8ca1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/search/search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6fdb8ca1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6fdb8ca1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6fdb8ca1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search/search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}